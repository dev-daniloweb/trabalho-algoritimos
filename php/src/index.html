<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Trabalho de Algoritimos</title>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    </head>
    <body>
        <div class="container">
            <h2 class="text-center mt-5">
                Trabalho de Algoritimos - PHP
            </h2>

            <div class="mt-4">
                <b>1)</b> Escreva um algoritmo que receba dez números do usuário 
                e armazene em um vetor o cubo de cada número. 
                Após isso, o algoritmo deve imprimir todos os 
                valores armazenados.
            </div>

            <div class="row">
                <form id="form" name="form" style="border: none" class="card col-5 mt-5" action="trabalho.php" method="post">
                    <div id="card">
                        <div class="form-group">
                            <label for="">Digite o <span id="i"></span>° número:</label>
                            <input type="text" class="form-control" id="number" name="number" placeholder="">
                        </div> 
                        <input type="hidden" id="vet" name="vet" />
                        <input type="hidden" id="action" name="action" />                       
                        <div class="form-group">
                            <button onclick="input(document.getElementById('number').value)" type="button" class="btn btn-block btn-dark">Enviar</button>                        
                        </div>
                    </div>
                </form>
                <div class="col ml-5 mt-5">
                    <p id="result">
                        
                    </p>
                </div>
            </div>           
        </div>

        <script>
            if (localStorage.length > 0) {
                for (let index = 0; index < localStorage.length; index++) {
                    document.getElementById('result').innerHTML += '<h4><span class="badge badge-primary">' + localStorage.getItem('vetor['+index+']') + '</span></h4>'                    
                }
                document.getElementById('form').style.display = 'none';
            } else {

                let vet = [];
                let i = 0;

                function input(number) 
                {
                    vet[i] = number;               
                    
                    if (i == 9) {
                        document.getElementById('vet').value = vet;
                        post('form', 'calc');
                    }

                    i++;
                    document.getElementById('i').innerHTML = i + 1;
                    document.getElementById('number').value = "";
                }

                function post(formName, actionName)
                {
                    var hiddenControl = document.getElementById('action');
                    var theForm = document.getElementById(formName);

                    hiddenControl.value = actionName;
                    theForm.submit();
                }

                document.getElementById('i').innerHTML = i + 1;
            }
        </script>
    </body>
</html>